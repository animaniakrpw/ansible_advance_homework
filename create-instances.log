ansible-playbook 2.9.6
  config file = /root/ansible_advance_homework/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /bin/ansible-playbook
  python version = 2.7.5 (default, Jun 11 2019, 14:33:56) [GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]
Using /root/ansible_advance_homework/ansible.cfg as config file
host_list declined parsing /root/ansible_advance_homework/osp_jumpbox_inventory as it did not pass its verify_file() method
script declined parsing /root/ansible_advance_homework/osp_jumpbox_inventory as it did not pass its verify_file() method
auto declined parsing /root/ansible_advance_homework/osp_jumpbox_inventory as it did not pass its verify_file() method
Parsed /root/ansible_advance_homework/osp_jumpbox_inventory inventory source with ini plugin

PLAYBOOK: test-site-osp-instances.yml ******************************************************************************************************************************************************************************************************************************************
2 plays in test-site-osp-instances.yml

PLAY [localhost] ***************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] *********************************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/test-site-osp-instances.yml:1
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root
<127.0.0.1> EXEC /bin/sh -c 'echo ~root && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441 `" && echo ansible-tmp-1587098208.47-77128455920441="` echo /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441 `" ) && sleep 0'
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpL0vyWi TO /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441/AnsiballZ_setup.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441/ /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python2 /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441/AnsiballZ_setup.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1587098208.47-77128455920441/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]
META: ran handlers

TASK [Create workstation inventory] ********************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/test-site-osp-instances.yml:3
creating host via 'add_host': hostname=workstation-49d2.rhpds.opentlc.com
[WARNING]: Found both group and host with same name: workstation
changed: [localhost] => {
    "add_host": {
        "groups": [
            "workstation"
        ], 
        "host_name": "workstation-49d2.rhpds.opentlc.com", 
        "host_vars": {
            "group": "workstation"
        }
    }, 
    "changed": true
}

TASK [Show hosts] **************************************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/test-site-osp-instances.yml:7
ok: [localhost] => {
    "msg": "Added host workstation-49d2.rhpds.opentlc.com"
}
META: ran handlers
META: ran handlers

PLAY [workstation] *************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] *********************************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/test-site-osp-instances.yml:11
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618 `" && echo ansible-tmp-1587098209.48-89697574099618="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098209.48-89697574099618=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618\n', '')
<workstation> Attempting python interpreter discovery
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo PLATFORM; uname; echo FOUND; command -v '"'"'"'"'"'"'"'"'/usr/bin/python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.5'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/libexec/platform-python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
<workstation> (0, 'PLATFORM\nLinux\nFOUND\n/usr/bin/python\n/usr/bin/python2.7\n/usr/bin/python\nENDFOUND\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'/usr/bin/python && sleep 0'"'"''
<workstation> (0, '{"osrelease_content": "NAME=\\"Red Hat Enterprise Linux Server\\"\\nVERSION=\\"7.4 (Maipo)\\"\\nID=\\"rhel\\"\\nID_LIKE=\\"fedora\\"\\nVARIANT=\\"Server\\"\\nVARIANT_ID=\\"server\\"\\nVERSION_ID=\\"7.4\\"\\nPRETTY_NAME=\\"Red Hat Enterprise Linux Server 7.4 (Maipo)\\"\\nANSI_COLOR=\\"0;31\\"\\nCPE_NAME=\\"cpe:/o:redhat:enterprise_linux:7.4:GA:server\\"\\nHOME_URL=\\"https://www.redhat.com/\\"\\nBUG_REPORT_URL=\\"https://bugzilla.redhat.com/\\"\\n\\nREDHAT_BUGZILLA_PRODUCT=\\"Red Hat Enterprise Linux 7\\"\\nREDHAT_BUGZILLA_PRODUCT_VERSION=7.4\\nREDHAT_SUPPORT_PRODUCT=\\"Red Hat Enterprise Linux\\"\\nREDHAT_SUPPORT_PRODUCT_VERSION=\\"7.4\\"\\n", "platform_dist_result": ["redhat", "7.4", "Maipo"]}\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpgtkSzd TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/AnsiballZ_setup.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpgtkSzd /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/AnsiballZ_setup.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/AnsiballZ_setup.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-vkttvkplnlpuobcpdmeijymrcjeacfqz ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"ansible_fibre_channel_wwn": [], "module_setup": true, "ansible_distribution_version": "7.4", "ansible_distribution_file_variety": "RedHat", "ansible_env": {"USERNAME": "root", "LANG": "en_US.UTF-8", "TERM": "xterm", "SHELL": "/bin/bash", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-vkttvkplnlpuobcpdmeijymrcjeacfqz ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/AnsiballZ_setup.py", "SHLVL": "1", "SUDO_UID": "1000", "SUDO_GID": "1000", "PWD": "/home/cloud-user", "LOGNAME": "root", "USER": "root", "MAIL": "/var/mail/cloud-user", "PATH": "/sbin:/bin:/usr/sbin:/usr/bin", "SUDO_USER": "cloud-user", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", "HOME": "/root", "_": "/usr/bin/python"}, "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_default_ipv4": {"macaddress": "2c:c2:60:48:bd:62", "network": "192.168.0.0", "mtu": 1500, "broadcast": "192.168.0.255", "alias": "eth0", "netmask": "255.255.255.0", "address": "192.168.0.5", "interface": "eth0", "type": "ether", "gateway": "192.168.0.1"}, "ansible_swapfree_mb": 0, "ansible_default_ipv6": {}, "ansible_cmdline": {"no_timer_check": true, "LANG": "en_US.UTF-8", "console": "ttyS0,115200n8", "net.ifnames": "0", "crashkernel": "auto", "BOOT_IMAGE": "/boot/vmlinuz-3.10.0-693.5.2.el7.x86_64", "ro": true, "root": "UUID=2460ab6e-e869-4011-acae-31b2e8c05a3b"}, "ansible_machine_id": "4093bf66a4a4444886ac88feb9f56896", "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "NA", "ansible_pkg_mgr": "yum", "ansible_distribution": "RedHat", "ansible_iscsi_iqn": "", "ansible_all_ipv6_addresses": ["fe80::2ec2:60ff:fe48:bd62"], "ansible_uptime_seconds": 18494, "ansible_kernel": "3.10.0-693.5.2.el7.x86_64", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 5, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 5, "final", 0]}, "ansible_is_chroot": false, "ansible_hostnqn": "", "ansible_user_shell": "/bin/bash", "ansible_product_serial": "NA", "ansible_form_factor": "Other", "ansible_distribution_file_parsed": true, "ansible_fips": false, "ansible_user_id": "root", "ansible_selinux_python_present": true, "ansible_kernel_version": "#1 SMP Fri Oct 13 10:46:25 EDT 2017", "ansible_local": {}, "ansible_processor_vcpus": 1, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Core(TM)2 Duo CPU     T7700  @ 2.40GHz"], "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPp8g8vaM1F+QBe9vhlTdf7kizKCQTxYfzUZaQIitOGLExHyFbaXL3CEduK5W486f+t2eAgzmoa125lndQO0ONc=", "ansible_user_gid": 0, "ansible_system_vendor": "Bochs", "ansible_swaptotal_mb": 0, "ansible_distribution_major_version": "7", "ansible_real_group_id": 0, "ansible_lsb": {}, "ansible_machine": "x86_64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQC6rAn1Ovc2w7E9HV5dxU5uLBbN0LkqDV0ZFenYpeaD09+RCf2hu+MSonirE9mHMuiB6CDjiMnfDXdQiWrRw6sY2Iq+Kt4mcmKajgwHygMb3YmCbt65Txi5NJRgMxojEuk3Gms/2ZhBIPR9wjm5rmZUefRWkrv5fiPsV82wgQqq7zkkilP4bRmLz6iiVSo8ajOaWZd4ihOlyqABO7ZCRhO9sQp5bzAgSQx522xDfSHkQj6uwAmrbhUsW9nHm4kJpc4kTjoEIzaCAuzv3vWkhPbMNh82HII+gJDhQ4TgxbLRjDrIrUfWUT2e0n0E3DIaTZSClzK//fXOyihdK5rWzgOz", "ansible_user_gecos": "root", "ansible_processor_threads_per_core": 1, "ansible_eth0": {"macaddress": "2c:c2:60:48:bd:62", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "on", "tx_tcp6_segmentation": "on", "tx_gso_robust": "off [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_nocache_copy": "off", "tx_mpls_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "on", "tx_sctp_segmentation": "off [fixed]", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "on [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "pciid": "virtio0", "module": "virtio_net", "mtu": 1500, "device": "eth0", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "192.168.0.255", "netmask": "255.255.255.0", "network": "192.168.0.0", "address": "192.168.0.5"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::2ec2:60ff:fe48:bd62"}], "active": true, "type": "ether", "hw_timestamp_filters": []}, "ansible_product_name": "Bochs", "ansible_all_ipv4_addresses": ["192.168.0.5"], "ansible_python_version": "2.7.5", "ansible_product_version": "NA", "ansible_service_mgr": "systemd", "ansible_memory_mb": {"real": {"total": 1839, "used": 1546, "free": 293}, "swap": {"cached": 0, "total": 0, "free": 0, "used": 0}, "nocache": {"used": 344, "free": 1495}}, "ansible_user_dir": "/root", "gather_subset": ["all"], "ansible_real_user_id": 0, "ansible_virtualization_role": "guest", "ansible_dns": {"nameservers": ["192.168.0.2"], "search": ["rhpds.opentlc.com"]}, "ansible_effective_group_id": 0, "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "tx_tcp6_segmentation": "on", "tx_gso_robust": "off [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "tx_nocache_copy": "off [fixed]", "tx_mpls_segmentation": "off [fixed]", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "on", "tx_sctp_segmentation": "on", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "ansible_memtotal_mb": 1839, "ansible_device_links": {"masters": {}, "labels": {"vdc": ["cidata"]}, "ids": {"sr0": ["ata-QEMU_DVD-ROM_QM00003"]}, "uuids": {"vdc": ["2020-04-16-23-27-59-00"], "vda1": ["2460ab6e-e869-4011-acae-31b2e8c05a3b"], "vdb1": ["760824c8-7235-46da-8c9a-0f7186dd9eb7"]}}, "ansible_apparmor": {"status": "disabled"}, "ansible_proc_cmdline": {"no_timer_check": true, "LANG": "en_US.UTF-8", "console": ["tty0", "ttyS0,115200n8"], "net.ifnames": "0", "crashkernel": "auto", "BOOT_IMAGE": "/boot/vmlinuz-3.10.0-693.5.2.el7.x86_64", "ro": true, "root": "UUID=2460ab6e-e869-4011-acae-31b2e8c05a3b"}, "ansible_memfree_mb": 293, "ansible_processor_count": 1, "ansible_hostname": "workstation-49d2", "ansible_interfaces": ["lo", "eth0"], "ansible_selinux": {"status": "enabled", "policyvers": 28, "type": "targeted", "mode": "enforcing", "config_mode": "enforcing"}, "ansible_fqdn": "workstation-49d2.rhpds.opentlc.com", "ansible_mounts": [{"block_used": 645284, "uuid": "2460ab6e-e869-4011-acae-31b2e8c05a3b", "size_total": 10725273600, "block_total": 2618475, "mount": "/", "block_available": 1973191, "size_available": 8082190336, "fstype": "xfs", "inode_total": 10484096, "options": "rw,seclabel,relatime,attr2,inode64,noquota", "device": "/dev/vda1", "inode_used": 90736, "block_size": 4096, "inode_available": 10393360}, {"block_used": 3528598, "uuid": "760824c8-7235-46da-8c9a-0f7186dd9eb7", "size_total": 64390959104, "block_total": 15720449, "mount": "/var/www/html/repos", "block_available": 12191851, "size_available": 49937821696, "fstype": "xfs", "inode_total": 31456256, "options": "rw,seclabel,relatime,attr2,inode64,noquota", "device": "/dev/vdb1", "inode_used": 11127, "block_size": 4096, "inode_available": 31445129}], "ansible_nodename": "workstation-49d2.rhpds.opentlc.com", "ansible_distribution_file_search_string": "Red Hat", "ansible_domain": "rhpds.opentlc.com", "ansible_distribution_file_path": "/etc/redhat-release", "ansible_virtualization_type": "kvm", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIOaVSOmS5F0bzrkaTL2t8s082ZLzdc+n/9GWzezvJomC", "ansible_processor_cores": 1, "ansible_bios_version": "Bochs", "ansible_date_time": {"weekday_number": "5", "iso8601_basic_short": "20200417T003655", "tz": "EDT", "weeknumber": "15", "hour": "00", "year": "2020", "minute": "36", "tz_offset": "-0400", "month": "04", "epoch": "1587098215", "iso8601_micro": "2020-04-17T04:36:55.288835Z", "weekday": "Friday", "time": "00:36:55", "date": "2020-04-17", "iso8601": "2020-04-17T04:36:55Z", "day": "17", "iso8601_basic": "20200417T003655288741", "second": "55"}, "ansible_distribution_release": "Maipo", "ansible_os_family": "RedHat", "ansible_effective_user_id": 0, "ansible_system": "Linux", "ansible_devices": {"vda": {"scheduler_mode": "", "rotational": "1", "vendor": "0x1af4", "sectors": "20971520", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "SCSI storage controller: Red Hat, Inc Virtio block device", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"vda1": {"sectorsize": 512, "uuid": "2460ab6e-e869-4011-acae-31b2e8c05a3b", "links": {"masters": [], "labels": [], "ids": [], "uuids": ["2460ab6e-e869-4011-acae-31b2e8c05a3b"]}, "sectors": "20968285", "start": "2048", "holders": [], "size": "10.00 GB"}}, "holders": [], "size": "10.00 GB"}, "fd0": {"scheduler_mode": "deadline", "rotational": "1", "vendor": null, "sectors": "8", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "1", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "4.00 KB"}, "sr0": {"scheduler_mode": "cfq", "rotational": "1", "vendor": "QEMU", "sectors": "2097151", "links": {"masters": [], "labels": [], "ids": ["ata-QEMU_DVD-ROM_QM00003"], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]", "sectorsize": "512", "removable": "1", "support_discard": "0", "model": "QEMU DVD-ROM", "partitions": {}, "holders": [], "size": "1024.00 MB"}, "vdb": {"scheduler_mode": "", "rotational": "1", "vendor": "0x1af4", "sectors": "125829120", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "SCSI storage controller: Red Hat, Inc Virtio block device", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"vdb1": {"sectorsize": 512, "uuid": "760824c8-7235-46da-8c9a-0f7186dd9eb7", "links": {"masters": [], "labels": [], "ids": [], "uuids": ["760824c8-7235-46da-8c9a-0f7186dd9eb7"]}, "sectors": "125825024", "start": "2048", "holders": [], "size": "60.00 GB"}}, "holders": [], "size": "60.00 GB"}, "vdc": {"scheduler_mode": "", "rotational": "1", "vendor": "0x1af4", "sectors": "736", "links": {"masters": [], "labels": ["cidata"], "ids": [], "uuids": ["2020-04-16-23-27-59-00"]}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "SCSI storage controller: Red Hat, Inc Virtio block device", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "368.00 KB"}}, "ansible_user_uid": 0, "ansible_bios_date": "NA", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "35", "36+ep"]}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098209.48-89697574099618/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation]
META: ran handlers

TASK [osp-servers : include_tasks] *********************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/main.yml:4
included: /root/ansible_advance_homework/roles/osp-servers/tasks/frontend.yml for workstation

TASK [osp-servers : Creates frontend server instance and attaches a network and passes metadata to the instance] ***************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/frontend.yml:4
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792 `" && echo ansible-tmp-1587098216.31-246232696392792="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098216.31-246232696392792=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_server.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpkq8JTV TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/AnsiballZ_os_server.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpkq8JTV /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/AnsiballZ_os_server.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/AnsiballZ_os_server.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-gpklnaiyftfplbfaoxycurhvllvnqrrg ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/AnsiballZ_os_server.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "availability_zone": null, "image": "rhel-guest", "image_exclude": "(deprecated)", "flavor_include": null, "meta": {"group": "frontends", "deployment_name": "QA"}, "flavor": "m2.small", "security_groups": ["frontend"], "client_key": null, "boot_from_volume": false, "userdata": "#!/bin/bash\\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\\n", "network": null, "nics": [{"net-name": "int_network"}], "floating_ips": null, "flavor_ram": null, "volume_size": false, "state": "present", "auto_ip": true, "scheduler_hints": null, "client_cert": null, "config_drive": false, "region_name": null, "ca_cert": null, "key_name": "ansible_ssh", "api_timeout": null, "auth": null, "boot_volume": null, "interface": "public", "terminate_volume": false, "wait": true, "name": "frontend", "timeout": 180, "delete_fip": false, "volumes": [], "floating_ip_pools": null, "validate_certs": null, "reuse_ips": true}}, "openstack": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:2f:0e:93", "version": 4, "addr": "20.20.20.4", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-06rgih95", "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 443, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 443, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "181680c8-fed8-4c63-b915-2d4e29df59f6", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "9ff7b2bc-a331-41e6-8ba9-0d1c24900c2b", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 80, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 80, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "d8d9b532-0b1d-4f47-b587-6aae3654237c", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "name": "frontend"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "frontend", "description": "frontend", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.4", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.4", "launched_at": "2020-04-17T04:38:01.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "frontends", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:37:58Z", "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.4", "public_v6": "", "hypervisor_hostname": "comp01.example.com", "private_v4": "20.20.20.4", "host": "comp01.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "frontend", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "name": "frontend", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "55ia798DTkQB", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:37:02Z", "created": "2020-04-17T04:37:02Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000001", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "frontend"}, "changed": true, "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", "server": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:2f:0e:93", "version": 4, "addr": "20.20.20.4", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-06rgih95", "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 443, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 443, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "181680c8-fed8-4c63-b915-2d4e29df59f6", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "9ff7b2bc-a331-41e6-8ba9-0d1c24900c2b", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 80, "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "port_range_min": 80, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "d8d9b532-0b1d-4f47-b587-6aae3654237c", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", "name": "frontend"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "frontend", "description": "frontend", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.4", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.4", "launched_at": "2020-04-17T04:38:01.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "frontends", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:37:58Z", "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.4", "public_v6": "", "hypervisor_hostname": "comp01.example.com", "private_v4": "20.20.20.4", "host": "comp01.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "frontend", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "name": "frontend", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "55ia798DTkQB", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:37:02Z", "created": "2020-04-17T04:37:02Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000001", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "frontend"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098216.31-246232696392792/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "auto_ip": true, 
            "availability_zone": null, 
            "boot_from_volume": false, 
            "boot_volume": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "config_drive": false, 
            "delete_fip": false, 
            "flavor": "m2.small", 
            "flavor_include": null, 
            "flavor_ram": null, 
            "floating_ip_pools": null, 
            "floating_ips": null, 
            "image": "rhel-guest", 
            "image_exclude": "(deprecated)", 
            "interface": "public", 
            "key_name": "ansible_ssh", 
            "meta": {
                "deployment_name": "QA", 
                "group": "frontends"
            }, 
            "name": "frontend", 
            "network": null, 
            "nics": [
                {
                    "net-name": "int_network"
                }
            ], 
            "region_name": null, 
            "reuse_ips": true, 
            "scheduler_hints": null, 
            "security_groups": [
                "frontend"
            ], 
            "state": "present", 
            "terminate_volume": false, 
            "timeout": 180, 
            "userdata": "#!/bin/bash\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\n", 
            "validate_certs": null, 
            "volume_size": false, 
            "volumes": [], 
            "wait": true
        }
    }, 
    "openstack": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "frontend", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.4", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:2f:0e:93", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.4", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "55ia798DTkQB", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:37:02Z", 
        "created_at": "2020-04-17T04:37:02Z", 
        "description": "frontend", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp01.example.com", 
        "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_status": "UP", 
        "hostname": "frontend", 
        "hypervisor_hostname": "comp01.example.com", 
        "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000001", 
        "interface_ip": "20.20.20.4", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:38:01.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "frontends"
        }, 
        "name": "frontend", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.4", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "frontend", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.4", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-06rgih95", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "frontend", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "181680c8-fed8-4c63-b915-2d4e29df59f6", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 443, 
                        "port_range_min": 443, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "9ff7b2bc-a331-41e6-8ba9-0d1c24900c2b", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "d8d9b532-0b1d-4f47-b587-6aae3654237c", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 80, 
                        "port_range_min": 80, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:37:58Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }, 
    "server": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "frontend", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.4", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:2f:0e:93", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.4", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "55ia798DTkQB", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:37:02Z", 
        "created_at": "2020-04-17T04:37:02Z", 
        "description": "frontend", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp01.example.com", 
        "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_status": "UP", 
        "hostname": "frontend", 
        "hypervisor_hostname": "comp01.example.com", 
        "id": "73e8c60b-24e1-48a3-bf28-53a8944769d4", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000001", 
        "interface_ip": "20.20.20.4", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:38:01.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "frontends"
        }, 
        "name": "frontend", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.4", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "frontend", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000001", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-06rgih95", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:38:01.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.4", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-06rgih95", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "frontend", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "181680c8-fed8-4c63-b915-2d4e29df59f6", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 443, 
                        "port_range_min": 443, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "9ff7b2bc-a331-41e6-8ba9-0d1c24900c2b", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "d8d9b532-0b1d-4f47-b587-6aae3654237c", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 80, 
                        "port_range_min": 80, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "eccafec0-6888-4c2c-80e9-7c6c1d4ee885", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:37:58Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }
}

TASK [osp-servers : Add floating IP to frontend server] ************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/frontend.yml:22
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612 `" && echo ansible-tmp-1587098284.75-239428726496612="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098284.75-239428726496612=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_floating_ip.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmp38k51b TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/AnsiballZ_os_floating_ip.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmp38k51b /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/AnsiballZ_os_floating_ip.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/AnsiballZ_os_floating_ip.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-xvxnittdanazspkxbbcassjijiyzcaxj ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/AnsiballZ_os_floating_ip.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "fixed_address": null, "network": "ext_network", "ca_cert": null, "availability_zone": null, "server": "frontend", "api_timeout": null, "reuse": true, "nat_destination": null, "purge": false, "state": "present", "floating_ip_address": null, "auth": null, "timeout": 180, "interface": "public", "wait": true, "client_key": null, "validate_certs": null, "client_cert": null, "region_name": null}}, "changed": true, "floating_ip": {"status": "DOWN", "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "properties": {}, "description": "", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:38:08Z", "attached": true, "updated_at": "2020-04-17T04:38:08Z", "id": "36725add-5dfb-4f59-bdfc-49eac7fffca5", "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", "fixed_ip_address": "20.20.20.4", "floating_ip_address": "10.10.10.4", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "revision_number": 2, "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "port_id": "1fdb2596-7da6-45f4-a99b-8275216a0c35", "port": "1fdb2596-7da6-45f4-a99b-8275216a0c35", "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098284.75-239428726496612/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "floating_ip": {
        "attached": true, 
        "created_at": "2020-04-17T04:38:08Z", 
        "description": "", 
        "fixed_ip_address": "20.20.20.4", 
        "floating_ip_address": "10.10.10.4", 
        "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "id": "36725add-5dfb-4f59-bdfc-49eac7fffca5", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": null
        }, 
        "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "port": "1fdb2596-7da6-45f4-a99b-8275216a0c35", 
        "port_id": "1fdb2596-7da6-45f4-a99b-8275216a0c35", 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {}, 
        "revision_number": 2, 
        "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "status": "DOWN", 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "updated_at": "2020-04-17T04:38:08Z"
    }, 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "availability_zone": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "fixed_address": null, 
            "floating_ip_address": null, 
            "interface": "public", 
            "nat_destination": null, 
            "network": "ext_network", 
            "purge": false, 
            "region_name": null, 
            "reuse": true, 
            "server": "frontend", 
            "state": "present", 
            "timeout": 180, 
            "validate_certs": null, 
            "wait": true
        }
    }
}

TASK [osp-servers : Wait for frontend server to become available] **************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/frontend.yml:33
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420 `" && echo ansible-tmp-1587098292.62-4810669289420="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098292.62-4810669289420=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmphBe1t6 TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmphBe1t6 /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-rbzyhfhnaqsbgtityarsxscyynvxvlku ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 269, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.4", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098292.62-4810669289420/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=failed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 269, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.4", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "failed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701 `" && echo ansible-tmp-1587098566.8-120152762549701="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098566.8-120152762549701=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpGXBpnJ TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpGXBpnJ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-lmaqjcxcpgfvylqiomsmfeixffbggkxg ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.4", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098566.8-120152762549701/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=changed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.4", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "changed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731 `" && echo ansible-tmp-1587098572.79-221300957907731="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098572.79-221300957907731=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpNnooJu TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpNnooJu /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-clfrbxfijxutbisicmexoagxhrqivzpz ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.4", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098572.79-221300957907731/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=floating_ip) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.4", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "floating_ip", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}

TASK [osp-servers : include_tasks] *********************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/main.yml:5
included: /root/ansible_advance_homework/roles/osp-servers/tasks/app1.yml for workstation

TASK [osp-servers : Creates app1 server instance and attaches a network and passes metadata to the instance] *******************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app1.yml:4
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652 `" && echo ansible-tmp-1587098579.38-228379136796652="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098579.38-228379136796652=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_server.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpmourr9 TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/AnsiballZ_os_server.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpmourr9 /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/AnsiballZ_os_server.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/AnsiballZ_os_server.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-fmpwzwturisournqkfrzzsokzzzoodlb ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/AnsiballZ_os_server.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "availability_zone": null, "image": "rhel-guest", "image_exclude": "(deprecated)", "flavor_include": null, "meta": {"group": "apps", "deployment_name": "QA"}, "flavor": "m2.small", "security_groups": ["apps"], "client_key": null, "boot_from_volume": false, "userdata": "#!/bin/bash\\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\\n", "network": null, "nics": [{"net-name": "int_network"}], "floating_ips": null, "flavor_ram": null, "volume_size": false, "state": "present", "auto_ip": true, "scheduler_hints": null, "client_cert": null, "config_drive": false, "region_name": null, "ca_cert": null, "key_name": "ansible_ssh", "api_timeout": null, "auth": null, "boot_volume": null, "interface": "public", "terminate_volume": false, "wait": true, "name": "app1", "timeout": 180, "delete_fip": false, "volumes": [], "floating_ip_pools": null, "validate_certs": null, "reuse_ips": true}}, "openstack": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:6e:62:35", "version": 4, "addr": "20.20.20.11", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-hytqyvd8", "id": "05eff255-d03e-45d2-82cb-b944041eb728", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 8080, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 8080, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "name": "apps"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "app1", "description": "app1", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.11", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.11", "launched_at": "2020-04-17T04:44:02.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "apps", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:43:59Z", "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.11", "public_v6": "", "hypervisor_hostname": "comp00.example.com", "private_v4": "20.20.20.11", "host": "comp00.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "app1", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "name": "app1", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "nTS4tLXeT3rv", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:43:03Z", "created": "2020-04-17T04:43:03Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000002", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "app1"}, "changed": true, "id": "05eff255-d03e-45d2-82cb-b944041eb728", "server": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:6e:62:35", "version": 4, "addr": "20.20.20.11", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-hytqyvd8", "id": "05eff255-d03e-45d2-82cb-b944041eb728", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 8080, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 8080, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "name": "apps"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "app1", "description": "app1", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.11", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.11", "launched_at": "2020-04-17T04:44:02.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "apps", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:43:59Z", "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.11", "public_v6": "", "hypervisor_hostname": "comp00.example.com", "private_v4": "20.20.20.11", "host": "comp00.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "app1", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "name": "app1", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "nTS4tLXeT3rv", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:43:03Z", "created": "2020-04-17T04:43:03Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000002", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "app1"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098579.38-228379136796652/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "id": "05eff255-d03e-45d2-82cb-b944041eb728", 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "auto_ip": true, 
            "availability_zone": null, 
            "boot_from_volume": false, 
            "boot_volume": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "config_drive": false, 
            "delete_fip": false, 
            "flavor": "m2.small", 
            "flavor_include": null, 
            "flavor_ram": null, 
            "floating_ip_pools": null, 
            "floating_ips": null, 
            "image": "rhel-guest", 
            "image_exclude": "(deprecated)", 
            "interface": "public", 
            "key_name": "ansible_ssh", 
            "meta": {
                "deployment_name": "QA", 
                "group": "apps"
            }, 
            "name": "app1", 
            "network": null, 
            "nics": [
                {
                    "net-name": "int_network"
                }
            ], 
            "region_name": null, 
            "reuse_ips": true, 
            "scheduler_hints": null, 
            "security_groups": [
                "apps"
            ], 
            "state": "present", 
            "terminate_volume": false, 
            "timeout": 180, 
            "userdata": "#!/bin/bash\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\n", 
            "validate_certs": null, 
            "volume_size": false, 
            "volumes": [], 
            "wait": true
        }
    }, 
    "openstack": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "app1", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.11", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:6e:62:35", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.11", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "nTS4tLXeT3rv", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:43:03Z", 
        "created_at": "2020-04-17T04:43:03Z", 
        "description": "app1", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp00.example.com", 
        "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_status": "UP", 
        "hostname": "app1", 
        "hypervisor_hostname": "comp00.example.com", 
        "id": "05eff255-d03e-45d2-82cb-b944041eb728", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000002", 
        "interface_ip": "20.20.20.11", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:44:02.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "apps"
        }, 
        "name": "app1", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.11", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "app1", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.11", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-hytqyvd8", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "apps", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 8080, 
                        "port_range_min": 8080, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:43:59Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }, 
    "server": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "app1", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.11", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:6e:62:35", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.11", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "nTS4tLXeT3rv", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:43:03Z", 
        "created_at": "2020-04-17T04:43:03Z", 
        "description": "app1", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp00.example.com", 
        "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_status": "UP", 
        "hostname": "app1", 
        "hypervisor_hostname": "comp00.example.com", 
        "id": "05eff255-d03e-45d2-82cb-b944041eb728", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000002", 
        "interface_ip": "20.20.20.11", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:44:02.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "apps"
        }, 
        "name": "app1", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.11", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "app1", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000002", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-hytqyvd8", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:44:02.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.11", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-hytqyvd8", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "apps", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 8080, 
                        "port_range_min": 8080, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:43:59Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }
}

TASK [osp-servers : Add floating IP to app1 server] ****************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app1.yml:22
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469 `" && echo ansible-tmp-1587098643.99-139223561859469="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098643.99-139223561859469=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_floating_ip.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpWYKcdL TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/AnsiballZ_os_floating_ip.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpWYKcdL /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/AnsiballZ_os_floating_ip.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/AnsiballZ_os_floating_ip.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-opozdawhqusreuwyzgriqzipxcwlagrh ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/AnsiballZ_os_floating_ip.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "fixed_address": null, "network": "ext_network", "ca_cert": null, "availability_zone": null, "server": "app1", "api_timeout": null, "reuse": true, "nat_destination": null, "purge": false, "state": "present", "floating_ip_address": null, "auth": null, "timeout": 180, "interface": "public", "wait": true, "client_key": null, "validate_certs": null, "client_cert": null, "region_name": null}}, "changed": true, "floating_ip": {"status": "ACTIVE", "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "properties": {}, "description": "", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:44:07Z", "attached": true, "updated_at": "2020-04-17T04:44:07Z", "id": "68bca254-29ce-4092-942d-be8c003fe239", "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", "fixed_ip_address": "20.20.20.11", "floating_ip_address": "10.10.10.5", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "revision_number": 2, "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "port_id": "891a1669-e0da-4a2b-9bbf-6dcf87ecd19c", "port": "891a1669-e0da-4a2b-9bbf-6dcf87ecd19c", "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098643.99-139223561859469/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "floating_ip": {
        "attached": true, 
        "created_at": "2020-04-17T04:44:07Z", 
        "description": "", 
        "fixed_ip_address": "20.20.20.11", 
        "floating_ip_address": "10.10.10.5", 
        "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "id": "68bca254-29ce-4092-942d-be8c003fe239", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": null
        }, 
        "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "port": "891a1669-e0da-4a2b-9bbf-6dcf87ecd19c", 
        "port_id": "891a1669-e0da-4a2b-9bbf-6dcf87ecd19c", 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {}, 
        "revision_number": 2, 
        "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "status": "ACTIVE", 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "updated_at": "2020-04-17T04:44:07Z"
    }, 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "availability_zone": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "fixed_address": null, 
            "floating_ip_address": null, 
            "interface": "public", 
            "nat_destination": null, 
            "network": "ext_network", 
            "purge": false, 
            "region_name": null, 
            "reuse": true, 
            "server": "app1", 
            "state": "present", 
            "timeout": 180, 
            "validate_certs": null, 
            "wait": true
        }
    }
}

TASK [osp-servers : Wait for app1 server to become available] ******************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app1.yml:33
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992 `" && echo ansible-tmp-1587098651.61-129286576891992="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098651.61-129286576891992=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYApocK TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYApocK /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-ecxatlkryvovgnblaskqcfpvzyvapofg ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 272, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.5", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098651.61-129286576891992/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=failed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 272, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.5", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "failed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028 `" && echo ansible-tmp-1587098928.52-172078425204028="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098928.52-172078425204028=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmp0W3OFS TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmp0W3OFS /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-zmknhnadhsxlswhsecutyswlpxqlxmao ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.5", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098928.52-172078425204028/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=changed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.5", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "changed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906 `" && echo ansible-tmp-1587098934.4-148216925216906="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098934.4-148216925216906=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYgBcjY TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYgBcjY /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-ealqaymiqvcgurayftmhyecwcmlnuwet ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.5", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098934.4-148216925216906/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=floating_ip) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.5", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "floating_ip", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}

TASK [osp-servers : include_tasks] *********************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/main.yml:6
included: /root/ansible_advance_homework/roles/osp-servers/tasks/app2.yml for workstation

TASK [osp-servers : Creates app2 server instance and attaches a network and passes metadata to the instance] *******************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app2.yml:4
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323 `" && echo ansible-tmp-1587098940.69-269467741338323="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098940.69-269467741338323=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_server.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpCcruRI TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/AnsiballZ_os_server.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpCcruRI /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/AnsiballZ_os_server.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/AnsiballZ_os_server.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-nqjjjxwyockoyexwxpxcbtsoeqyftalf ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/AnsiballZ_os_server.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "availability_zone": null, "image": "rhel-guest", "image_exclude": "(deprecated)", "flavor_include": null, "meta": {"group": "apps", "deployment_name": "QA"}, "flavor": "m2.small", "security_groups": ["apps"], "client_key": null, "boot_from_volume": false, "userdata": "#!/bin/bash\\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\\n", "network": null, "nics": [{"net-name": "int_network"}], "floating_ips": null, "flavor_ram": null, "volume_size": false, "state": "present", "auto_ip": true, "scheduler_hints": null, "client_cert": null, "config_drive": false, "region_name": null, "ca_cert": null, "key_name": "ansible_ssh", "api_timeout": null, "auth": null, "boot_volume": null, "interface": "public", "terminate_volume": false, "wait": true, "name": "app2", "timeout": 180, "delete_fip": false, "volumes": [], "floating_ip_pools": null, "validate_certs": null, "reuse_ips": true}}, "openstack": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:a4:fc:88", "version": 4, "addr": "20.20.20.3", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-orc820s6", "id": "5f286a9b-a216-46cb-bbad-95babec62008", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 8080, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 8080, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "name": "apps"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "app2", "description": "app2", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.3", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.3", "launched_at": "2020-04-17T04:49:21.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "apps", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:49:18Z", "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.3", "public_v6": "", "hypervisor_hostname": "comp01.example.com", "private_v4": "20.20.20.3", "host": "comp01.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "app2", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "name": "app2", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "c4NL26TtT3nW", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:49:04Z", "created": "2020-04-17T04:49:04Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000003", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "app2"}, "changed": true, "id": "5f286a9b-a216-46cb-bbad-95babec62008", "server": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:a4:fc:88", "version": 4, "addr": "20.20.20.3", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-orc820s6", "id": "5f286a9b-a216-46cb-bbad-95babec62008", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 8080, "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "port_range_min": 8080, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", "name": "apps"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "app2", "description": "app2", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.3", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.3", "launched_at": "2020-04-17T04:49:21.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "apps", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:49:18Z", "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.3", "public_v6": "", "hypervisor_hostname": "comp01.example.com", "private_v4": "20.20.20.3", "host": "comp01.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "app2", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp01.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", "name": "app2", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "c4NL26TtT3nW", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:49:04Z", "created": "2020-04-17T04:49:04Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000003", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "app2"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098940.69-269467741338323/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "id": "5f286a9b-a216-46cb-bbad-95babec62008", 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "auto_ip": true, 
            "availability_zone": null, 
            "boot_from_volume": false, 
            "boot_volume": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "config_drive": false, 
            "delete_fip": false, 
            "flavor": "m2.small", 
            "flavor_include": null, 
            "flavor_ram": null, 
            "floating_ip_pools": null, 
            "floating_ips": null, 
            "image": "rhel-guest", 
            "image_exclude": "(deprecated)", 
            "interface": "public", 
            "key_name": "ansible_ssh", 
            "meta": {
                "deployment_name": "QA", 
                "group": "apps"
            }, 
            "name": "app2", 
            "network": null, 
            "nics": [
                {
                    "net-name": "int_network"
                }
            ], 
            "region_name": null, 
            "reuse_ips": true, 
            "scheduler_hints": null, 
            "security_groups": [
                "apps"
            ], 
            "state": "present", 
            "terminate_volume": false, 
            "timeout": 180, 
            "userdata": "#!/bin/bash\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\n", 
            "validate_certs": null, 
            "volume_size": false, 
            "volumes": [], 
            "wait": true
        }
    }, 
    "openstack": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "app2", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.3", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:a4:fc:88", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.3", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "c4NL26TtT3nW", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:49:04Z", 
        "created_at": "2020-04-17T04:49:04Z", 
        "description": "app2", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp01.example.com", 
        "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_status": "UP", 
        "hostname": "app2", 
        "hypervisor_hostname": "comp01.example.com", 
        "id": "5f286a9b-a216-46cb-bbad-95babec62008", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000003", 
        "interface_ip": "20.20.20.3", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:49:21.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "apps"
        }, 
        "name": "app2", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.3", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "app2", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.3", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-orc820s6", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "apps", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 8080, 
                        "port_range_min": 8080, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:49:18Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }, 
    "server": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "app2", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.3", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:a4:fc:88", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.3", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "c4NL26TtT3nW", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:49:04Z", 
        "created_at": "2020-04-17T04:49:04Z", 
        "description": "app2", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp01.example.com", 
        "hostId": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_id": "b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80", 
        "host_status": "UP", 
        "hostname": "app2", 
        "hypervisor_hostname": "comp01.example.com", 
        "id": "5f286a9b-a216-46cb-bbad-95babec62008", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000003", 
        "interface_ip": "20.20.20.3", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:49:21.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "apps"
        }, 
        "name": "app2", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.3", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "app2", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp01.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000003", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-orc820s6", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:49:21.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.3", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-orc820s6", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "apps", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "438f6b6b-0a34-4df4-b992-2a27fbe1c06e", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "539554a4-8658-4f0f-a731-b72c0046cf0f", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 8080, 
                        "port_range_min": 8080, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "16fcf749-1115-445c-b6f3-5b6162e0fea2", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:49:18Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }
}

TASK [osp-servers : Add floating IP to app2 server] ****************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app2.yml:22
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316 `" && echo ansible-tmp-1587098965.25-37517939399316="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098965.25-37517939399316=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_floating_ip.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYMjmDq TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/AnsiballZ_os_floating_ip.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpYMjmDq /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/AnsiballZ_os_floating_ip.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/AnsiballZ_os_floating_ip.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-wzimvnylgqzcuwfwzcmzcbyruahwftll ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/AnsiballZ_os_floating_ip.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "fixed_address": null, "network": "ext_network", "ca_cert": null, "availability_zone": null, "server": "app2", "api_timeout": null, "reuse": true, "nat_destination": null, "purge": false, "state": "present", "floating_ip_address": null, "auth": null, "timeout": 180, "interface": "public", "wait": true, "client_key": null, "validate_certs": null, "client_cert": null, "region_name": null}}, "changed": true, "floating_ip": {"status": "DOWN", "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "properties": {}, "description": "", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:49:28Z", "attached": true, "updated_at": "2020-04-17T04:49:28Z", "id": "86cd81eb-5e3a-42f2-aabe-563333e15d5f", "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", "fixed_ip_address": "20.20.20.3", "floating_ip_address": "10.10.10.14", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "revision_number": 2, "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "port_id": "5a62a17c-2418-4b6a-abc8-010b50040313", "port": "5a62a17c-2418-4b6a-abc8-010b50040313", "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098965.25-37517939399316/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "floating_ip": {
        "attached": true, 
        "created_at": "2020-04-17T04:49:28Z", 
        "description": "", 
        "fixed_ip_address": "20.20.20.3", 
        "floating_ip_address": "10.10.10.14", 
        "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "id": "86cd81eb-5e3a-42f2-aabe-563333e15d5f", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": null
        }, 
        "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "port": "5a62a17c-2418-4b6a-abc8-010b50040313", 
        "port_id": "5a62a17c-2418-4b6a-abc8-010b50040313", 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {}, 
        "revision_number": 2, 
        "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "status": "DOWN", 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "updated_at": "2020-04-17T04:49:28Z"
    }, 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "availability_zone": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "fixed_address": null, 
            "floating_ip_address": null, 
            "interface": "public", 
            "nat_destination": null, 
            "network": "ext_network", 
            "purge": false, 
            "region_name": null, 
            "reuse": true, 
            "server": "app2", 
            "state": "present", 
            "timeout": 180, 
            "validate_certs": null, 
            "wait": true
        }
    }
}

TASK [osp-servers : Wait for app2 server to become available] ******************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/app2.yml:33
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679 `" && echo ansible-tmp-1587098972.79-54932792970679="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587098972.79-54932792970679=/home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpMSNpWp TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpMSNpWp /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-bkxnthjeiodfchsrujtlixfjmegdxabr ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 274, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.14", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587098972.79-54932792970679/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=failed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 274, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.14", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "failed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593 `" && echo ansible-tmp-1587099251.68-198570212829593="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099251.68-198570212829593=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpQEAGxF TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpQEAGxF /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-joprtukonibcxlbeazvyueukmvnjpjes ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 0, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.14", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099251.68-198570212829593/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=changed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 0, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.14", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "changed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643 `" && echo ansible-tmp-1587099257.37-163137135615643="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099257.37-163137135615643=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmporDvT3 TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmporDvT3 /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-ceoodqkgvolutovwfwqlifasobbtfrtm ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.14", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099257.37-163137135615643/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=floating_ip) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.14", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "floating_ip", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}

TASK [osp-servers : include_tasks] *********************************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/main.yml:7
included: /root/ansible_advance_homework/roles/osp-servers/tasks/db.yml for workstation

TASK [osp-servers : Creates db server instance and attaches a network and passes metadata to the instance] *********************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/db.yml:4
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473 `" && echo ansible-tmp-1587099263.68-228156752327473="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099263.68-228156752327473=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_server.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpkIhzDn TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/AnsiballZ_os_server.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpkIhzDn /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/AnsiballZ_os_server.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/AnsiballZ_os_server.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-icmjbdqyxfgeclwhjdizopabqmqfpajo ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/AnsiballZ_os_server.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "availability_zone": null, "image": "rhel-guest", "image_exclude": "(deprecated)", "flavor_include": null, "meta": {"group": "appdbs", "deployment_name": "QA"}, "flavor": "m2.small", "security_groups": ["db"], "client_key": null, "boot_from_volume": false, "userdata": "#!/bin/bash\\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\\n", "network": null, "nics": [{"net-name": "int_network"}], "floating_ips": null, "flavor_ram": null, "volume_size": false, "state": "present", "auto_ip": true, "scheduler_hints": null, "client_cert": null, "config_drive": false, "region_name": null, "ca_cert": null, "key_name": "ansible_ssh", "api_timeout": null, "auth": null, "boot_volume": null, "interface": "public", "terminate_volume": false, "wait": true, "name": "db", "timeout": 180, "delete_fip": false, "volumes": [], "floating_ip_pools": null, "validate_certs": null, "reuse_ips": true}}, "openstack": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:18:0b:f2", "version": 4, "addr": "20.20.20.10", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-cppu0kpc", "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "19a65d4c-033e-4284-a424-d9cc9f32e89d", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "20.20.20.0/24", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 5432, "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", "port_range_min": 5432, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "a29966aa-b441-415e-b66e-621280ddfb99", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "05016164-103a-4a0a-b54e-e4475414d1f5", "name": "db"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "db", "description": "db", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.10", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.10", "launched_at": "2020-04-17T04:54:44.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "appdbs", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:54:41Z", "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.10", "public_v6": "", "hypervisor_hostname": "comp00.example.com", "private_v4": "20.20.20.10", "host": "comp00.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "db", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "name": "db", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "AErBZ5mfy9c2", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:54:27Z", "created": "2020-04-17T04:54:27Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000004", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "db"}, "changed": true, "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", "server": {"vm_state": "active", "OS-EXT-STS:task_state": null, "addresses": {"int_network": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:18:0b:f2", "version": 4, "addr": "20.20.20.10", "OS-EXT-IPS:type": "fixed"}]}, "server_groups": null, "terminated_at": null, "image": {"id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", "name": "rhel-guest"}, "ramdisk_id": "", "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "host_status": "UP", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", "flavor": {"id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", "name": "m2.small"}, "az": "nova", "reservation_id": "r-cppu0kpc", "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", "security_groups": [{"description": "ports_open", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "security_group_rules": [{"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "0.0.0.0/0", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 22, "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", "port_range_min": 22, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "19a65d4c-033e-4284-a424-d9cc9f32e89d", "group": {}, "project_id": "", "properties": {"group": {}}}, {"remote_group_id": null, "direction": "ingress", "remote_ip_prefix": "20.20.20.0/24", "protocol": "tcp", "ethertype": "IPv4", "port_range_max": 5432, "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", "port_range_min": 5432, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "tenant_id": "", "id": "a29966aa-b441-415e-b66e-621280ddfb99", "group": {}, "project_id": "", "properties": {"group": {}}}], "properties": {}, "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "id": "05016164-103a-4a0a-b54e-e4475414d1f5", "name": "db"}], "scheduler_hints": null, "os-extended-volumes:volumes_attached": [], "user_id": "97656d07875c40b38805582946989e49", "has_config_drive": false, "OS-EXT-SRV-ATTR:hostname": "db", "description": "db", "disk_config": "MANUAL", "OS-DCF:diskConfig": "MANUAL", "networks": {}, "accessIPv4": "20.20.20.10", "accessIPv6": "", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": "nova", "region_name": "RegionOne", "cloud": "ospcloud"}, "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", "key_name": "ansible_ssh", "progress": 0, "OS-EXT-STS:power_state": 1, "interface_ip": "20.20.20.10", "launched_at": "2020-04-17T04:54:44.000000", "OS-SRV-USG:terminated_at": null, "metadata": {"group": "appdbs", "deployment_name": "QA"}, "status": "ACTIVE", "OS-EXT-SRV-ATTR:ramdisk_id": "", "updated": "2020-04-17T04:54:41Z", "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "power_state": 1, "block_device_mapping": null, "kernel_id": "", "public_v4": "20.20.20.10", "public_v6": "", "hypervisor_hostname": "comp00.example.com", "private_v4": "20.20.20.10", "host": "comp00.example.com", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-SCH-HNT:scheduler_hints": null, "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", "task_state": null, "properties": {"OS-EXT-STS:task_state": null, "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", "OS-EXT-STS:vm_state": "active", "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", "OS-SRV-USG:terminated_at": null, "os-extended-volumes:volumes_attached": [], "OS-EXT-SRV-ATTR:hostname": "db", "OS-DCF:diskConfig": "MANUAL", "OS-SCH-HNT:scheduler_hints": null, "OS-EXT-STS:power_state": 1, "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:host": "comp00.example.com", "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "locked": false, "OS-EXT-SRV-ATTR:launch_index": 0, "host_status": "UP", "trusted_image_certificates": null}, "tags": [], "OS-EXT-AZ:availability_zone": "nova", "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", "name": "db", "OS-EXT-SRV-ATTR:launch_index": 0, "adminPass": "AErBZ5mfy9c2", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:54:27Z", "created": "2020-04-17T04:54:27Z", "launch_index": 0, "locked": false, "instance_name": "instance-00000004", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "trusted_image_certificates": null, "root_device_name": "/dev/vda", "volumes": [], "cloud": "ospcloud", "region": "RegionOne", "personality": null, "config_drive": "", "hostname": "db"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099263.68-228156752327473/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "auto_ip": true, 
            "availability_zone": null, 
            "boot_from_volume": false, 
            "boot_volume": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "config_drive": false, 
            "delete_fip": false, 
            "flavor": "m2.small", 
            "flavor_include": null, 
            "flavor_ram": null, 
            "floating_ip_pools": null, 
            "floating_ips": null, 
            "image": "rhel-guest", 
            "image_exclude": "(deprecated)", 
            "interface": "public", 
            "key_name": "ansible_ssh", 
            "meta": {
                "deployment_name": "QA", 
                "group": "appdbs"
            }, 
            "name": "db", 
            "network": null, 
            "nics": [
                {
                    "net-name": "int_network"
                }
            ], 
            "region_name": null, 
            "reuse_ips": true, 
            "scheduler_hints": null, 
            "security_groups": [
                "db"
            ], 
            "state": "present", 
            "terminate_volume": false, 
            "timeout": 180, 
            "userdata": "#!/bin/bash\ncurl -o /tmp/openstack.pub http://www.opentlc.com/download/ansible_bootcamp/openstack_keys/openstack.pub\ncat /tmp/openstack.pub >> /home/cloud-user/.ssh/authorized_keys\ncurl -o /tmp/internal.repo http://www.opentlc.com/download/ansible_bootcamp/repo/internal.repo\ncp /tmp/internal.repo /etc/yum.repos.d/internal.repo\n", 
            "validate_certs": null, 
            "volume_size": false, 
            "volumes": [], 
            "wait": true
        }
    }, 
    "openstack": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "db", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.10", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:18:0b:f2", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.10", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "AErBZ5mfy9c2", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:54:27Z", 
        "created_at": "2020-04-17T04:54:27Z", 
        "description": "db", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp00.example.com", 
        "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_status": "UP", 
        "hostname": "db", 
        "hypervisor_hostname": "comp00.example.com", 
        "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000004", 
        "interface_ip": "20.20.20.10", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:54:44.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "appdbs"
        }, 
        "name": "db", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.10", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "db", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.10", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-cppu0kpc", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "db", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "19a65d4c-033e-4284-a424-d9cc9f32e89d", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "a29966aa-b441-415e-b66e-621280ddfb99", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 5432, 
                        "port_range_min": 5432, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "20.20.20.0/24", 
                        "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:54:41Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }, 
    "server": {
        "OS-DCF:diskConfig": "MANUAL", 
        "OS-EXT-AZ:availability_zone": "nova", 
        "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:hostname": "db", 
        "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
        "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", 
        "OS-EXT-SRV-ATTR:kernel_id": "", 
        "OS-EXT-SRV-ATTR:launch_index": 0, 
        "OS-EXT-SRV-ATTR:ramdisk_id": "", 
        "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", 
        "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
        "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "OS-EXT-STS:power_state": 1, 
        "OS-EXT-STS:task_state": null, 
        "OS-EXT-STS:vm_state": "active", 
        "OS-SCH-HNT:scheduler_hints": null, 
        "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", 
        "OS-SRV-USG:terminated_at": null, 
        "accessIPv4": "20.20.20.10", 
        "accessIPv6": "", 
        "addresses": {
            "int_network": [
                {
                    "OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:18:0b:f2", 
                    "OS-EXT-IPS:type": "fixed", 
                    "addr": "20.20.20.10", 
                    "version": 4
                }
            ]
        }, 
        "adminPass": "AErBZ5mfy9c2", 
        "az": "nova", 
        "block_device_mapping": null, 
        "cloud": "ospcloud", 
        "config_drive": "", 
        "created": "2020-04-17T04:54:27Z", 
        "created_at": "2020-04-17T04:54:27Z", 
        "description": "db", 
        "disk_config": "MANUAL", 
        "flavor": {
            "id": "2799dffc-5b26-404d-8c6c-2e088f491ae2", 
            "name": "m2.small"
        }, 
        "has_config_drive": false, 
        "host": "comp00.example.com", 
        "hostId": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_id": "59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a", 
        "host_status": "UP", 
        "hostname": "db", 
        "hypervisor_hostname": "comp00.example.com", 
        "id": "ad50a02b-7e94-4ebf-94e7-9a002dd80ffa", 
        "image": {
            "id": "35b1de81-a1ef-4e19-99e9-62b5724eb466", 
            "name": "rhel-guest"
        }, 
        "instance_name": "instance-00000004", 
        "interface_ip": "20.20.20.10", 
        "kernel_id": "", 
        "key_name": "ansible_ssh", 
        "launch_index": 0, 
        "launched_at": "2020-04-17T04:54:44.000000", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": "nova"
        }, 
        "locked": false, 
        "metadata": {
            "deployment_name": "QA", 
            "group": "appdbs"
        }, 
        "name": "db", 
        "networks": {}, 
        "os-extended-volumes:volumes_attached": [], 
        "personality": null, 
        "power_state": 1, 
        "private_v4": "20.20.20.10", 
        "progress": 0, 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {
            "OS-DCF:diskConfig": "MANUAL", 
            "OS-EXT-AZ:availability_zone": "nova", 
            "OS-EXT-SRV-ATTR:host": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:hostname": "db", 
            "OS-EXT-SRV-ATTR:hypervisor_hostname": "comp00.example.com", 
            "OS-EXT-SRV-ATTR:instance_name": "instance-00000004", 
            "OS-EXT-SRV-ATTR:kernel_id": "", 
            "OS-EXT-SRV-ATTR:launch_index": 0, 
            "OS-EXT-SRV-ATTR:ramdisk_id": "", 
            "OS-EXT-SRV-ATTR:reservation_id": "r-cppu0kpc", 
            "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", 
            "OS-EXT-SRV-ATTR:user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "OS-SCH-HNT:scheduler_hints": null, 
            "OS-SRV-USG:launched_at": "2020-04-17T04:54:44.000000", 
            "OS-SRV-USG:terminated_at": null, 
            "host_status": "UP", 
            "locked": false, 
            "os-extended-volumes:volumes_attached": [], 
            "trusted_image_certificates": null
        }, 
        "public_v4": "20.20.20.10", 
        "public_v6": "", 
        "ramdisk_id": "", 
        "region": "RegionOne", 
        "reservation_id": "r-cppu0kpc", 
        "root_device_name": "/dev/vda", 
        "scheduler_hints": null, 
        "security_groups": [
            {
                "description": "ports_open", 
                "id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                "location": {
                    "cloud": "ospcloud", 
                    "project": {
                        "domain_id": null, 
                        "domain_name": null, 
                        "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                        "name": "admin"
                    }, 
                    "region_name": "RegionOne", 
                    "zone": null
                }, 
                "name": "db", 
                "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "properties": {}, 
                "security_group_rules": [
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "19a65d4c-033e-4284-a424-d9cc9f32e89d", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 22, 
                        "port_range_min": 22, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "0.0.0.0/0", 
                        "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                        "tenant_id": ""
                    }, 
                    {
                        "direction": "ingress", 
                        "ethertype": "IPv4", 
                        "group": {}, 
                        "id": "a29966aa-b441-415e-b66e-621280ddfb99", 
                        "location": {
                            "cloud": "ospcloud", 
                            "project": {
                                "domain_id": null, 
                                "domain_name": null, 
                                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                                "name": "admin"
                            }, 
                            "region_name": "RegionOne", 
                            "zone": null
                        }, 
                        "port_range_max": 5432, 
                        "port_range_min": 5432, 
                        "project_id": "", 
                        "properties": {
                            "group": {}
                        }, 
                        "protocol": "tcp", 
                        "remote_group_id": null, 
                        "remote_ip_prefix": "20.20.20.0/24", 
                        "security_group_id": "05016164-103a-4a0a-b54e-e4475414d1f5", 
                        "tenant_id": ""
                    }
                ], 
                "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965"
            }
        ], 
        "server_groups": null, 
        "status": "ACTIVE", 
        "tags": [], 
        "task_state": null, 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "terminated_at": null, 
        "trusted_image_certificates": null, 
        "updated": "2020-04-17T04:54:41Z", 
        "user_data": "IyEvYmluL2Jhc2gKY3VybCAtbyAvdG1wL29wZW5zdGFjay5wdWIgaHR0cDovL3d3dy5vcGVudGxjLmNvbS9kb3dubG9hZC9hbnNpYmxlX2Jvb3RjYW1wL29wZW5zdGFja19rZXlzL29wZW5zdGFjay5wdWIKY2F0IC90bXAvb3BlbnN0YWNrLnB1YiA+PiAvaG9tZS9jbG91ZC11c2VyLy5zc2gvYXV0aG9yaXplZF9rZXlzCmN1cmwgLW8gL3RtcC9pbnRlcm5hbC5yZXBvIGh0dHA6Ly93d3cub3BlbnRsYy5jb20vZG93bmxvYWQvYW5zaWJsZV9ib290Y2FtcC9yZXBvL2ludGVybmFsLnJlcG8KY3AgL3RtcC9pbnRlcm5hbC5yZXBvIC9ldGMveXVtLnJlcG9zLmQvaW50ZXJuYWwucmVwbwo=", 
        "user_id": "97656d07875c40b38805582946989e49", 
        "vm_state": "active", 
        "volumes": []
    }
}

TASK [osp-servers : Add floating IP to db server] ******************************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/db.yml:22
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589 `" && echo ansible-tmp-1587099288.28-54622568521589="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099288.28-54622568521589=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/openstack/os_floating_ip.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpV04tlZ TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/AnsiballZ_os_floating_ip.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpV04tlZ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/AnsiballZ_os_floating_ip.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/AnsiballZ_os_floating_ip.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-ynojktlzhhywdlijzwyzfmxhtxgdvjuo ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/AnsiballZ_os_floating_ip.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"invocation": {"module_args": {"auth_type": null, "fixed_address": null, "network": "ext_network", "ca_cert": null, "availability_zone": null, "server": "db", "api_timeout": null, "reuse": true, "nat_destination": null, "purge": false, "state": "present", "floating_ip_address": null, "auth": null, "timeout": 180, "interface": "public", "wait": true, "client_key": null, "validate_certs": null, "client_cert": null, "region_name": null}}, "changed": true, "floating_ip": {"status": "ACTIVE", "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "properties": {}, "description": "", "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", "created_at": "2020-04-17T04:54:51Z", "attached": true, "updated_at": "2020-04-17T04:54:51Z", "id": "fc7c2fbd-ab67-421a-bfd4-b008eded3c7a", "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", "fixed_ip_address": "20.20.20.10", "floating_ip_address": "10.10.10.16", "location": {"project": {"domain_name": null, "domain_id": null, "name": "admin", "id": "1e3aa106a2f94e93bb328f6bebe8b965"}, "zone": null, "region_name": "RegionOne", "cloud": "ospcloud"}, "revision_number": 2, "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", "port_id": "bc8f2981-42a6-42b6-af2b-bb9e8b44b9c4", "port": "bc8f2981-42a6-42b6-af2b-bb9e8b44b9c4", "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba"}}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099288.28-54622568521589/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
changed: [workstation] => {
    "changed": true, 
    "floating_ip": {
        "attached": true, 
        "created_at": "2020-04-17T04:54:51Z", 
        "description": "", 
        "fixed_ip_address": "20.20.20.10", 
        "floating_ip_address": "10.10.10.16", 
        "floating_network_id": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "id": "fc7c2fbd-ab67-421a-bfd4-b008eded3c7a", 
        "location": {
            "cloud": "ospcloud", 
            "project": {
                "domain_id": null, 
                "domain_name": null, 
                "id": "1e3aa106a2f94e93bb328f6bebe8b965", 
                "name": "admin"
            }, 
            "region_name": "RegionOne", 
            "zone": null
        }, 
        "network": "5d576dd0-284f-4922-9ac2-ee3f7ba2f0ba", 
        "port": "bc8f2981-42a6-42b6-af2b-bb9e8b44b9c4", 
        "port_id": "bc8f2981-42a6-42b6-af2b-bb9e8b44b9c4", 
        "project_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "properties": {}, 
        "revision_number": 2, 
        "router": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "router_id": "78dbc9a4-97b7-42a1-86f5-6e47f5a00f32", 
        "status": "ACTIVE", 
        "tenant_id": "1e3aa106a2f94e93bb328f6bebe8b965", 
        "updated_at": "2020-04-17T04:54:51Z"
    }, 
    "invocation": {
        "module_args": {
            "api_timeout": null, 
            "auth": null, 
            "auth_type": null, 
            "availability_zone": null, 
            "ca_cert": null, 
            "client_cert": null, 
            "client_key": null, 
            "fixed_address": null, 
            "floating_ip_address": null, 
            "interface": "public", 
            "nat_destination": null, 
            "network": "ext_network", 
            "purge": false, 
            "region_name": null, 
            "reuse": true, 
            "server": "db", 
            "state": "present", 
            "timeout": 180, 
            "validate_certs": null, 
            "wait": true
        }
    }
}

TASK [osp-servers : Wait for db server to become available] ********************************************************************************************************************************************************************************************************************
task path: /root/ansible_advance_homework/roles/osp-servers/tasks/db.yml:33
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745 `" && echo ansible-tmp-1587099296.29-204635163574745="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099296.29-204635163574745=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpVUR9Xs TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpVUR9Xs /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-quajqloxowszokpjicqxbpkaxfnumdlv ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 273, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.16", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099296.29-204635163574745/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=failed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 273, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.16", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "failed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769 `" && echo ansible-tmp-1587099574.18-240896388365769="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099574.18-240896388365769=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpyCf1fM TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpyCf1fM /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-syvimomzuxmqutdwrwqjymsdryldxuoy ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.16", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099574.18-240896388365769/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=changed) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.16", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "changed", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<workstation> (0, '/home/cloud-user\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132 `" && echo ansible-tmp-1587099579.94-5266222162132="` echo /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132 `" ) && sleep 0'"'"''
<workstation> (0, 'ansible-tmp-1587099579.94-5266222162132=/home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/utilities/logic/wait_for.py
<workstation> PUT /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpj6kRib TO /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/AnsiballZ_wait_for.py
<workstation> SSH: EXEC sftp -b - -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b '[workstation]'
<workstation> (0, 'sftp> put /root/.ansible/tmp/ansible-local-5421HFvU4g/tmpj6kRib /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/AnsiballZ_wait_for.py\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'chmod u+x /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/ /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/AnsiballZ_wait_for.py && sleep 0'"'"''
<workstation> (0, '', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b -tt workstation '/bin/sh -c '"'"'sudo -H -S -n  -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-fboxomcyrwzufesvjxooyfzojsgohdcz ; /usr/bin/python /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/AnsiballZ_wait_for.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<workstation> (0, '\r\n{"match_groups": [], "elapsed": 1, "search_regex": "OpenSSH", "state": "started", "match_groupdict": {}, "invocation": {"module_args": {"active_connection_states": ["ESTABLISHED", "FIN_WAIT1", "FIN_WAIT2", "SYN_RECV", "SYN_SENT", "TIME_WAIT"], "host": "10.10.10.16", "port": 22, "delay": 0, "search_regex": "OpenSSH", "state": "started", "sleep": 1, "timeout": 600, "exclude_hosts": null, "msg": null, "path": null, "connect_timeout": 5}}, "path": null, "port": 22}\r\n', '')
<workstation> ESTABLISH SSH CONNECTION FOR USER: None
<workstation> SSH: EXEC ssh -F /root/ansible_advance_homework/ssh.cfg -o ControlMaster=auto -o ControlPersist=5m -o LogLevel=QUIET -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/aa4a9e236b workstation '/bin/sh -c '"'"'rm -f -r /home/cloud-user/.ansible/tmp/ansible-tmp-1587099579.94-5266222162132/ > /dev/null 2>&1 && sleep 0'"'"''
<workstation> (0, '', '')
ok: [workstation -> workstation] => (item=floating_ip) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "elapsed": 1, 
    "invocation": {
        "module_args": {
            "active_connection_states": [
                "ESTABLISHED", 
                "FIN_WAIT1", 
                "FIN_WAIT2", 
                "SYN_RECV", 
                "SYN_SENT", 
                "TIME_WAIT"
            ], 
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "10.10.10.16", 
            "msg": null, 
            "path": null, 
            "port": 22, 
            "search_regex": "OpenSSH", 
            "sleep": 1, 
            "state": "started", 
            "timeout": 600
        }
    }, 
    "item": "floating_ip", 
    "match_groupdict": {}, 
    "match_groups": [], 
    "path": null, 
    "port": 22, 
    "search_regex": "OpenSSH", 
    "state": "started"
}
META: ran handlers
META: ran handlers

PLAY RECAP *********************************************************************************************************************************************************************************************************************************************************************
localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
workstation                : ok=17   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

